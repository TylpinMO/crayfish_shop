# Инструкция по деплою с безопасным хранением токена DaData

## Вариант 1: Netlify (рекомендуется)

### 1. Подготовка к деплою

1. Зарегистрируйтесь на [Netlify](https://netlify.com)
2. Подключите ваш GitHub репозиторий к Netlify

### 2. Настройка переменных окружения

В панели Netlify:

1. Идите в `Site settings` > `Environment variables`
2. Добавьте переменную:
   - **Name**: `DADATA_TOKEN`
   - **Value**: ваш токен DaData (например: `0a5759487c07fc6dc5a65061d8df9df8648e1adb`)

### 3. Деплой

Netlify автоматически:

- Обнаружит файл `netlify.toml`
- Развернет serverless функцию из папки `netlify/functions/`
- Настроит переадресацию `/api/*` на функции

### 4. Локальная разработка

Для тестирования локально:

```bash
# Установить Netlify CLI
npm install -g netlify-cli

# В папке проекта
npm install

# Создать файл .env в корне проекта
echo "DADATA_TOKEN=ваш_токен_dadata" > .env

# Запустить локальный сервер
netlify dev
```

Сайт будет доступен на `http://localhost:8888`

## Вариант 2: Vercel

1. Зарегистрируйтесь на [Vercel](https://vercel.com)
2. Подключите GitHub репозиторий
3. В настройках проекта добавьте переменную окружения:
   - **Name**: `DADATA_TOKEN`
   - **Value**: ваш токен

Потребуется создать файл `api/address-suggestions.js` вместо `netlify/functions/`

## Вариант 3: GitHub Pages + отдельный сервер

Если нужно использовать GitHub Pages:

1. Разверните serverless функцию отдельно (Railway, Render, Heroku)
2. Обновите URL в `script.js` на адрес вашего API

## Безопасность

✅ **Безопасно**: Токен хранится в переменных окружения сервера
✅ **Безопасно**: Клиент не имеет доступа к токену
✅ **Безопасно**: Все запросы к DaData идут через ваш сервер

## Проверка работы

После деплоя проверьте:

1. Откройте DevTools > Network
2. Начните вводить адрес в форме заказа
3. Должны появиться запросы к `/api/address-suggestions`
4. Токен не должен быть виден в запросах или исходном коде
